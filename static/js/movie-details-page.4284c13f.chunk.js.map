{"version":3,"sources":["views/MovieDetailsPage/MovieDetailsPage.js","services/status.js","services/moviesApi.js","views/NotFoundView/NotFoundView.js","images/not_found.gif","components/Loader/Loader.js","components/Loader/Loader.module.css","services/baseImageURL.js","views/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","location","useLocation","useState","movie","setMovie","movieId","useParams","useRouteMatch","url","path","error","setError","Status","IDLE","status","setStatus","useEffect","PENDING","moviesApi","getMovieById","then","poster_path","original_title","popularity","overview","genres","src","baseImageURL","noImageFound","title","score","toFixed","RESOLVED","catch","console","log","REJECTED","className","s","container","onClick","push","state","from","type","btn","Loader","wrapper","image","alt","description","movieTitle","info","genre","map","name","id","submenu","to","pathname","submenuItem","activeClassName","activeSubmenuItem","fallback","a","config","axios","data","results","query","params","cast","defaults","baseURL","api_key","language","api","getPopularMovies","getMoviesByKeyWord","getCastInfo","getMovieReviews","NotFoundView","Spinner","loader","color","height","width","module","exports"],"mappings":"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","file":"static/js/movie-details-page.4284c13f.chunk.js","sourcesContent":["import { useState, useEffect, Suspense, lazy } from 'react';\nimport {\n  NavLink,\n  useParams,\n  useRouteMatch,\n  Route,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\n\nimport moviesApi from '../../services/moviesApi';\nimport Status from '../../services/status';\nimport baseImageURL from '../../services/baseImageURL';\nimport ErrorView from '../NotFoundView';\nimport Loader from '../../components/Loader';\nimport noImageFound from '../../images/not_found.gif';\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() => import('../Cast' /* webpackChunkName: \"cast\"*/));\nconst Reviews = lazy(() =>\n  import('../Reviews' /* webpackChunkName: \"reviews\"*/),\n);\n\nexport default function MovieDetailsPage() {\n  const history = useHistory();\n  const location = useLocation();\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const { url, path } = useRouteMatch();\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    moviesApi\n      .getMovieById(movieId)\n      .then(({ poster_path, original_title, popularity, overview, genres }) => {\n        setMovie({\n          src: poster_path\n            ? `${baseImageURL}${poster_path}`\n            : `${noImageFound}`,\n          title: original_title,\n          score: popularity.toFixed(1),\n          overview,\n          genres,\n        });\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId, error]);\n\n  const goBack = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <main className={s.container}>\n      <button onClick={goBack} type=\"button\" className={s.btn}>\n        &#171; go to back\n      </button>\n\n      {status === Status.PENDING && <Loader />}\n\n      {status === Status.REJECTED && <ErrorView />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <div className={s.wrapper}>\n            <img className={s.image} src={movie.src} alt={movie.title} />\n            <div className={s.description}>\n              <h2 className={s.movieTitle}>{movie.title}</h2>\n              <h3 className={s.title}>Score</h3>\n              <p className={s.info}>{movie.score}</p>\n              <h3 className={s.title}>About</h3>\n              <p className={s.info}>{movie.overview}</p>\n              <h3 className={s.title}>Genres</h3>\n              <ul className={s.genre}>\n                {movie.genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n          <ul className={s.submenu}>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `${url}/cast`,\n                  state: {\n                    from: location.state ? location.state.from : '/',\n                  },\n                }}\n                className={s.submenuItem}\n                activeClassName={s.activeSubmenuItem}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `${url}/reviews`,\n                  state: {\n                    from: location.state ? location.state.from : '/',\n                  },\n                }}\n                className={s.submenuItem}\n                activeClassName={s.activeSubmenuItem}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n\n          {\n            <Suspense fallback={<Loader />}>\n              <Route path={`${path}/cast`}>\n                {status === Status.RESOLVED && <Cast />}\n              </Route>\n\n              <Route path={`${path}/reviews`}>\n                {status === Status.RESOLVED && <Reviews />}\n              </Route>\n            </Suspense>\n          }\n        </>\n      )}\n    </main>\n  );\n}\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'b2ae4391fdcd9f56e763c0246ef56897';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies() {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n    };\n    const { data } = await axios(config);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n      },\n    };\n    const { data } = await axios(config, query);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReviews(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst api = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReviews,\n};\n\nexport default api;\n","export default function NotFoundView() {\n  return <h1>404 - page not found </h1>;\n}\n","export default \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA4ElEQVRIib3UMQrCMBiG4RecCg4OTtJJb6CLiO52ETyAp/IErs7i6KAgeAhB20kQ0clRByOENDZJY/pBoPT74SF/oVBRasAMiEMBY+AFnIF2CCACdqGRqQBUpA88pM50MiDRAUdl0AdJdcCvwY7oe8DNAbECfBBrQLeuu9IPgKEPYEKGwMgXcF1XKcAFsQYujutyAtZ8/lNL6d3VEjECJ6Apugg4AHugAWws1lUIPIGu0sdASzzXga3hJoXAQjegREZSDVIIlDkqkkv2ZySXpArEJ/I3WYUAvsgcmIQCqs8bpkQADx00Tt8AAAAASUVORK5CYII=\"","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nfunction Spinner() {\n  return (\n    <div className={s.loader}>\n      <Loader\n        className=\"Loader\"\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n      />\n    </div>\n  );\n}\n\nexport default Spinner;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2-s1o\"};","const baseImageURL = 'https://image.tmdb.org/t/p/w500';\n\nexport default baseImageURL;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__B323P\",\"wrapper\":\"MovieDetailsPage_wrapper__1_5B4\",\"image\":\"MovieDetailsPage_image__2mzhu\",\"description\":\"MovieDetailsPage_description__25eSQ\",\"movieTitle\":\"MovieDetailsPage_movieTitle__RshgB\",\"info\":\"MovieDetailsPage_info__1kzcF\",\"title\":\"MovieDetailsPage_title__1OtUy\",\"genre\":\"MovieDetailsPage_genre__flBCu MovieDetailsPage_info__1kzcF\",\"submenu\":\"MovieDetailsPage_submenu__2taPE\",\"submenuItem\":\"MovieDetailsPage_submenuItem__2r-lk\",\"activeSubmenuItem\":\"MovieDetailsPage_activeSubmenuItem__1D2Ov MovieDetailsPage_submenuItem__2r-lk\",\"btn\":\"MovieDetailsPage_btn__W4qAs\"};"],"sourceRoot":""}